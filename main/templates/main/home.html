 <!DOCTYPE html>
<html lang="ru" dir="ltr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Scrooge VPN</title>
    <style>
        :root {
            --tg-bg-color: #18222d;
            --tg-secondary-bg: #1e2c3a;
            --tg-text-color: #e1e3e6;
            --tg-hint-color: #7d8b99;
            --tg-link-color: #5d9cec;
            --tg-accent-color: #5682a3;
            --tg-red-color: #ec5f5f;
            --tg-green-color: #5fec8f;
            --tg-yellow-color: #f0c04d;
            --tg-border-radius: 12px;
            --tg-spacing: 16px;
            --tg-font: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: var(--tg-font);
        }

        body {
            background-color: var(--tg-bg-color);
            color: var(--tg-text-color);
            line-height: 1.4;
            padding: var(--tg-spacing);
        }

        .container {
            max-width: 600px;
            margin: 0 auto;
        }

        /* Header */
        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: var(--tg-spacing);
        }

        .title {
            font-size: 20px;
            font-weight: 700;
        }

        /* Card */
        .card {
            background-color: var(--tg-secondary-bg);
            border-radius: var(--tg-border-radius);
            padding: var(--tg-spacing);
            margin-bottom: var(--tg-spacing);
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.2);
        }

        /* Accordion */
        .accordion {
            margin-bottom: var(--tg-spacing);
        }

        .accordion-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px 0;
            cursor: pointer;
        }

        .accordion-title {
            font-weight: 500;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .accordion-icon {
            transition: transform 0.2s;
        }

        .accordion-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.2s ease-out;
        }

        .accordion.active .accordion-icon {
            transform: rotate(180deg);
        }

        /* Stats grid */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 8px;
            margin-top: 12px;
        }

        .stat-item {
            background-color: rgba(255, 255, 255, 0.05);
            border-radius: 8px;
            padding: 12px;
        }

        .stat-label {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 4px;
            font-size: 14px;
            color: var(--tg-hint-color);
        }

        .stat-value {
            font-size: 16px;
            font-weight: 500;
        }

        /* Timeline */
        .timeline {
            position: relative;
            padding-left: 24px;
        }

        .timeline::before {
            content: '';
            position: absolute;
            left: 11px;
            top: 0;
            bottom: 0;
            width: 2px;
            background-color: var(--tg-accent-color);
            opacity: 0.3;
        }

        .timeline-item {
            position: relative;
            padding-bottom: 24px;
        }

        .timeline-item:last-child {
            padding-bottom: 0;
        }

        .timeline-bullet {
            position: absolute;
            left: -24px;
            top: 0;
            width: 24px;
            height: 24px;
            border-radius: 50%;
            background-color: var(--tg-accent-color);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
        }

        .timeline-content {
            padding-top: 2px;
        }

        .timeline-title {
            font-weight: 500;
            margin-bottom: 8px;
        }

        .timeline-description {
            color: var(--tg-hint-color);
            margin-bottom: 12px;
            font-size: 14px;
        }

        /* Buttons */
        .btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            padding: 10px 16px;
            border-radius: 8px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s;
            border: none;
            outline: none;
            text-decoration: none;
        }

        .btn-primary {
            background-color: var(--tg-accent-color);
            color: white;
        }

        .btn-primary:hover {
            background-color: #4a6d8c;
        }

        .btn-outline {
            background-color: transparent;
            color: var(--tg-accent-color);
            border: 1px solid var(--tg-accent-color);
        }

        .btn-outline:hover {
            background-color: rgba(86, 130, 163, 0.1);
        }

        .btn-light {
            background-color: rgba(86, 130, 163, 0.1);
            color: var(--tg-accent-color);
        }

        .btn-light:hover {
            background-color: rgba(86, 130, 163, 0.2);
        }

        .btn-group {
            display: flex;
            gap: 8px;
            margin-bottom: 12px;
        }

        .btn-icon {
            margin-right: 8px;
        }

        /* Select */
        .select {
            position: relative;
            width: 150px;
        }

        .select-toggle {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 8px 12px;
            background-color: var(--tg-secondary-bg);
            border-radius: 8px;
            cursor: pointer;
        }

        .select-dropdown {
            position: absolute;
            top: 100%;
            left: 0;
            right: 0;
            background-color: var(--tg-secondary-bg);
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
            z-index: 10;
            display: none;
            max-height: 200px;
            overflow-y: auto;
        }

        .select-option {
            padding: 8px 12px;
            cursor: pointer;
        }

        .select-option:hover {
            background-color: rgba(255, 255, 255, 0.05);
        }

        .select.active .select-dropdown {
            display: block;
        }

        /* Progress bar */
        .progress-container {
            margin-top: 4px;
            height: 4px;
            background-color: rgba(255, 255, 255, 0.1);
            border-radius: 2px;
            overflow: hidden;
        }

        .progress-bar {
            height: 100%;
            background-color: var(--tg-green-color);
            width: 2.9%;
        }

        /* Utils */
        .text-muted {
            color: var(--tg-hint-color);
        }

        .text-small {
            font-size: 13px;
        }

        .mt-1 {
            margin-top: 4px;
        }

        .mt-2 {
            margin-top: 8px;
        }

        .mt-3 {
            margin-top: 12px;
        }

        .mb-2 {
            margin-bottom: 8px;
        }

        .flex {
            display: flex;
        }

        .items-center {
            align-items: center;
        }

        .justify-between {
            justify-content: space-between;
        }

        .w-full {
            width: 100%;
        }
    </style>
</head>
<body>
    <div class="container" id="app">
        <!-- –ö–æ–Ω—Ç–µ–Ω—Ç –±—É–¥–µ—Ç —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω JavaScript -->
    </div>
 <script>
    // –î–∞–Ω–Ω—ã–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
    const appData = {
        user: {
            username: "pgecho30",
            status: "–ê–∫—Ç–∏–≤–Ω–∞",
            expiresAt: "07.08.2025",
            daysLeft: 4,
            trafficUsed: "1.45 GiB",
            trafficLimit: "50.00 GiB",
            trafficPercent: 2.9
        },
        platforms: {
            android: {
                id: "android",
                name: "Android",
                icon: "device-mobile",
                providers: {
                    happ: {
                        name: "Happ",
                        icon: "star",
                        sources: [
                            {
                                name: "–û—Ç–∫—Ä—ã—Ç—å –≤ Google Play",
                                url: "https://play.google.com/store/apps/details?id=com.happproxy",
                            },
                            {
                                name: "–°–∫–∞—á–∞—Ç—å APK",
                                url: "https://github.com/Happ-proxy/happ-android/releases/latest/download/Happ.apk"
                            },
                        ],
                        instructions: [
                            {
                                title: "–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∏ –æ—Ç–∫—Ä–æ–π—Ç–µ Happ",
                                description: "–û—Ç–∫—Ä–æ–π—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É –≤ Google Play –∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ. –ò–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏–∑ APK —Ñ–∞–π–ª–∞ –Ω–∞–ø—Ä—è–º—É—é, –µ—Å–ª–∏ Google Play –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç.",
                                icon: "download"
                            },
                            {
                                title: "–î–æ–±–∞–≤–∏—Ç—å –ø–æ–¥–ø–∏—Å–∫—É",
                                description: "–ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É –Ω–∏–∂–µ, —á—Ç–æ–±—ã –¥–æ–±–∞–≤–∏—Ç—å –ø–æ–¥–ø–∏—Å–∫—É",
                                icon: "cloud-download"
                            },
                            {
                                title: "–ü–æ–¥–∫–ª—é—á–∏—Ç–µ –∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ",
                                description: "–û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏ –ø–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ —Å–µ—Ä–≤–µ—Ä—É",
                                icon: "check"
                            },
                        ],
                    },      
                    v2raytun: {
                        name: "v2RayTun",
                        icon: "",
                        sources: [
                            {
                                name: "–û—Ç–∫—Ä—ã—Ç—å –≤ Google Play",
                                url: "https://play.google.com/store/apps/details?id=com.v2raytun.android&hl=ru",
                            }
                        ],
                        instructions: [
                            {
                                title: "–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∏ –æ—Ç–∫—Ä–æ–π—Ç–µ v2RayTun",
                                description: "–û—Ç–∫—Ä–æ–π—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É –≤ Google Play –∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ.",
                                icon: "download"
                            },
                            {
                                title: "–î–æ–±–∞–≤–∏—Ç—å –ø–æ–¥–ø–∏—Å–∫—É",
                                description: "–ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É –Ω–∏–∂–µ, —á—Ç–æ–±—ã –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é",
                                icon: "cloud-download"
                            },
                            {
                                title: "–ü–æ–¥–∫–ª—é—á–∏—Ç–µ –∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ",
                                description: "–û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏ –ø–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ —Å–µ—Ä–≤–µ—Ä—É",
                                icon: "check"
                            },
                        ],
                    },
                },
            },
            ios: {
                id: "ios",
                name: "iOS",
                icon: "device-mobile",
                providers: {
                    happ: {
                        name: "Happ",
                        icon: "star",
                        sources: [
                            {
                                name: "–û—Ç–∫—Ä—ã—Ç—å –≤ App Store(Rus)",
                                url: "https://apps.apple.com/ru/app/happ-proxy-utility-plus/id6746188973",
                            },
                            {
                                name: "–û—Ç–∫—Ä—ã—Ç—å –≤ App Store(Global)",
                                url: "https://apps.apple.com/us/app/happ-proxy-utility/id6504287215"
                            },
                        ],
                        instructions: [
                            {
                                title: "–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∏ –æ—Ç–∫—Ä–æ–π—Ç–µ Happ",
                                description: "–û—Ç–∫—Ä–æ–π—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É –≤ App Store –∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ(–ï—Å–ª–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–µ–¥–æ—Å—Ç–ø—É–Ω–æ –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –¥—Ä—É–≥—É—é —Å—Å—ã–ª–∫—É Rus –∏–ª–∏ Global). –ó–∞–ø—É—Å—Ç–∏—Ç–µ –µ–≥–æ, –≤ –æ–∫–Ω–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è VPN-–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –Ω–∞–∂–º–∏—Ç–µ Allow –∏ –≤–≤–µ–¥–∏—Ç–µ —Å–≤–æ–π –ø–∞—Ä–æ–ª—å.",
                                icon: "download"
                            },
                            {
                                title: "–î–æ–±–∞–≤–∏—Ç—å –ø–æ–¥–ø–∏—Å–∫—É",
                                description: "–ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É –Ω–∏–∂–µ ‚Äî –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –æ—Ç–∫—Ä–æ–µ—Ç—Å—è, –∏ –ø–æ–¥–ø–∏—Å–∫–∞ –¥–æ–±–∞–≤–∏—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.",
                                icon: "cloud-download"
                            },
                            {
                                title: "–ü–æ–¥–∫–ª—é—á–∏—Ç–µ –∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ",
                                description: "–í –≥–ª–∞–≤–Ω–æ–º —Ä–∞–∑–¥–µ–ª–µ –Ω–∞–∂–º–∏—Ç–µ –±–æ–ª—å—à—É—é –∫–Ω–æ–ø–∫—É –≤–∫–ª—é—á–µ–Ω–∏—è –≤ —Ü–µ–Ω—Ç—Ä–µ –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ VPN. –ù–µ –∑–∞–±—É–¥—å—Ç–µ –≤—ã–±—Ä–∞—Ç—å —Å–µ—Ä–≤–µ—Ä –≤ —Å–ø–∏—Å–∫–µ —Å–µ—Ä–≤–µ—Ä–æ–≤. –ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –≤—ã–±–µ—Ä–∏—Ç–µ –¥—Ä—É–≥–æ–π —Å–µ—Ä–≤–µ—Ä –∏–∑ —Å–ø–∏—Å–∫–∞ —Å–µ—Ä–≤–µ—Ä–æ–≤.",
                                icon: "check"
                            },
                        ],
                    },      
                    v2raytun: {
                        name: "v2RayTun",
                        icon: "",
                        sources: [
                            {
                                name: "–û—Ç–∫—Ä—ã—Ç—å –≤ App Store",
                                url: "https://apps.apple.com/ru/app/v2raytun/id6476628951",
                            }
                        ],
                        instructions: [
                            {
                                title: "–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∏ –æ—Ç–∫—Ä–æ–π—Ç–µ v2RayTun",
                                description: "–û—Ç–∫—Ä–æ–π—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É –≤ App Store –∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –µ–≥–æ, –≤ –æ–∫–Ω–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è VPN-–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –Ω–∞–∂–º–∏—Ç–µ Allow –∏ –≤–≤–µ–¥–∏—Ç–µ —Å–≤–æ–π –ø–∞—Ä–æ–ª—å.",
                                icon: "download"
                            },
                            {
                                title: "–î–æ–±–∞–≤–∏—Ç—å –ø–æ–¥–ø–∏—Å–∫—É",
                                description: "–ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É –Ω–∏–∂–µ ‚Äî –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –æ—Ç–∫—Ä–æ–µ—Ç—Å—è, –∏ –ø–æ–¥–ø–∏—Å–∫–∞ –¥–æ–±–∞–≤–∏—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.",
                                icon: "cloud-download"
                            },
                            {
                                title: "–ü–æ–¥–∫–ª—é—á–∏—Ç–µ –∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ",
                                description: "–û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏ –ø–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ —Å–µ—Ä–≤–µ—Ä—É",
                                icon: "check"
                            },
                        ],
                    },
                },
            },
            pc: {
                id: "pc",
                name: "–ü–ö",
                icon: "device-desktop",
                providers: {
                    hiddify: {
                        name: "Hiddify",
                        icon: "star",
                        sources: [
                            {
                                name: "Windows",
                                url: "https://github.com/hiddify/hiddify-app/releases/download/v2.5.7/Hiddify-Windows-Setup-x64.exe"
                            },
                            {
                                name: "macOS",
                                url: "https://github.com/hiddify/hiddify-app/releases/download/v2.5.7/Hiddify-MacOS.dmg"
                            },
                            {
                                name: "Linux",
                                url: "https://github.com/hiddify/hiddify-app/releases/download/v2.5.7/Hiddify-Linux-x64.AppImage"
                            }
                        ],
                        instructions: [
                            {
                                title: "–°–∫–∞—á–∞–π—Ç–µ Hiddify",
                                description: "–í –≥–ª–∞–≤–Ω–æ–º —Ä–∞–∑–¥–µ–ª–µ –Ω–∞–∂–º–∏—Ç–µ –±–æ–ª—å—à—É—é –∫–Ω–æ–ø–∫—É –≤–∫–ª—é—á–µ–Ω–∏—è –≤ —Ü–µ–Ω—Ç—Ä–µ –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ VPN. –ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –≤—ã–±–µ—Ä–∏—Ç–µ –¥—Ä—É–≥–æ–π —Å–µ—Ä–≤–µ—Ä –≤ —Ä–∞–∑–¥–µ–ª–µ –ü—Ä–æ–∫—Å–∏.",
                                icon: "download"
                            },
                            {
                                title: "–í—ã–±–æ—Ä/—Å–º–µ–Ω–∞ —Å–µ—Ä–≤–µ—Ä–∞",
                                description: "–ü–æ—Å–ª–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è, —Å–ª–µ–≤–∞ –≤—ã–±–µ—Ä–∏—Ç–µ '–ü—Ä–æ–∫—Å–∏' –∏ –≤—ã–±–µ—Ä–∏—Ç–µ –Ω—É–∂–Ω—ã–π —Å–µ—Ä–≤–µ—Ä.",
                                icon: "info-circle"
                            },
                            {
                                title: "–î–æ–±–∞–≤–∏—Ç—å –ø–æ–¥–ø–∏—Å–∫—É",
                                description: "–ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É –Ω–∏–∂–µ, —á—Ç–æ–±—ã –¥–æ–±–∞–≤–∏—Ç—å –ø–æ–¥–ø–∏—Å–∫—É",
                                icon: "cloud-download"
                            },
                            {
                                title: "–ü–æ–¥–∫–ª—é—á–∏—Ç–µ –∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ",
                                description: "–í –≥–ª–∞–≤–Ω–æ–º —Ä–∞–∑–¥–µ–ª–µ –Ω–∞–∂–º–∏—Ç–µ –±–æ–ª—å—à—É—é –∫–Ω–æ–ø–∫—É –≤–∫–ª—é—á–µ–Ω–∏—è –≤ —Ü–µ–Ω—Ç—Ä–µ –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ VPN. –ù–µ –∑–∞–±—É–¥—å—Ç–µ –≤—ã–±—Ä–∞—Ç—å —Å–µ—Ä–≤–µ—Ä –≤ —Å–ø–∏—Å–∫–µ —Å–µ—Ä–≤–µ—Ä–æ–≤. –ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –≤—ã–±–µ—Ä–∏—Ç–µ –¥—Ä—É–≥–æ–π —Å–µ—Ä–≤–µ—Ä –∏–∑ —Å–ø–∏—Å–∫–∞ —Å–µ—Ä–≤–µ—Ä–æ–≤.",
                                icon: "check"
                            }
                        ]
                    },
                    clash: {
                        name: "Clash Verge",
                        icon: "bolt",
                        sources: [
                            {
                                name: "Windows",
                                url: "https://github.com/clash-verge-rev/clash-verge-rev/releases/download/v2.2.2/Clash.Verge_2.2.2_x64-setup.exe"
                            },
                            {
                                name: "macOS (Intel)",
                                url: "https://github.com/clash-verge-rev/clash-verge-rev/releases/download/v2.2.2/Clash.Verge_2.2.2_x64.dmg"
                            },
                            {
                                name: "macOS (Apple Silicon)",
                                url: "https://github.com/clash-verge-rev/clash-verge-rev/releases/download/v2.2.2/Clash.Verge_2.2.2_aarch64.dmg"
                            },
                            {
                                name: "Linux",
                                url: "https://github.com/clash-verge-rev/clash-verge-rev/releases"
                            },
                        ],
                        instructions: [
                            {
                                title: "–°–∫–∞—á–∞–π—Ç–µ Clash Verge",
                                description: "–í—ã–±–µ—Ä–∏—Ç–µ –ø–æ–¥—Ö–æ–¥—è—â—É—é –≤–µ—Ä—Å–∏—é –¥–ª—è –≤–∞—à–µ–≥–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞, –Ω–∞–∂–º–∏—Ç–µ –Ω–∞ –∫–Ω–æ–ø–∫—É –Ω–∏–∂–µ –∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ.",
                                icon: "download"
                            },
                            {
                                title: "–°–º–µ–Ω–∞ —è–∑—ã–∫–∞",
                                description: "–ü—Ä–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –≤—ã–±–∏—Ä–∞–µ–º English, –ø–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —è–∑—ã–∫ –±—É–¥–µ—Ç –†—É—Å—Å–∫–∏–π.",
                                icon: "info-circle"
                            },
                            {
                                title: "–î–æ–±–∞–≤–∏—Ç—å –ø–æ–¥–ø–∏—Å–∫—É",
                                description: "–ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É –Ω–∏–∂–µ, —á—Ç–æ–±—ã –¥–æ–±–∞–≤–∏—Ç—å –ø–æ–¥–ø–∏—Å–∫—É",
                                icon: "cloud-download"
                            },
                            {
                                title: "–ü–æ–¥–∫–ª—é—á–∏—Ç–µ –∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ",
                                description: "–í—ã–±—Ä–∞—Ç—å —Å–µ—Ä–≤–µ—Ä –º–æ–∂–Ω–æ –≤ —Ä–∞–∑–¥–µ–ª–µ –ü—Ä–æ–∫—Å–∏, –≤–∫–ª—é—á–∏—Ç—å VPN –º–æ–∂–Ω–æ –≤ —Ä–∞–∑–¥–µ–ª–µ –ù–∞—Å—Ç—Ä–æ–π–∫–∏. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å TUN Mode –≤ –ø–æ–ª–æ–∂–µ–Ω–∏–µ –í–ö–õ.",
                                icon: "check"
                            }
                        ],
                    }
                },
            },
        },
        currentPlatform: "pc",
        currentProvider: "hiddify"
    };

    // –ò–∫–æ–Ω–∫–∏ SVG
    const icons = {
        "star": `<path d="M12 17.75l-6.172 3.245l1.179 -6.873l-5 -4.867l6.9 -1l3.086 -6.253l3.086 6.253l6.9 1l-5 4.867l1.179 6.873z"></path>`,
        "bolt": `<path d="M13 3l0 7l6 0l-8 11l0 -7l-6 0l8 -11z"></path>`,
        "download": `<path d="M4 17v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2 -2v-2"></path><path d="M7 11l5 5l5 -5"></path><path d="M12 4l0 12"></path>`,
        "info-circle": `<path d="M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0"></path><path d="M12 9h.01"></path><path d="M11 12h1v4h1"></path>`,
        "cloud-download": `<path d="M19 18a3.5 3.5 0 0 0 0 -7h-1a5 4.5 0 0 0 -11 -2a4.6 4.4 0 0 0 -2.1 8.4"></path><path d="M12 13l0 9"></path><path d="M9 19l3 3l3 -3"></path>`,
        "check": `<path d="M5 12l5 5l10 -10"></path>`,
        "device-desktop": `<path d="M3 5a1 1 0 0 1 1 -1h16a1 1 0 0 1 1 1v10a1 1 0 0 1 -1 1h-16a1 1 0 0 1 -1 -1v-10z"></path><path d="M7 20h10"></path><path d="M9 16v4"></path><path d="M15 16v4"></path>`,
        "device-mobile": `<path d="M6 5a2 2 0 0 1 2 -2h8a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-8a2 2 0 0 1 -2 -2v-14z"></path><path d="M11 4h2"></path><path d="M12 17v.01"></path>`,
        "external-link": `<path d="M12 6h-6a2 2 0 0 0 -2 2v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-6"></path><path d="M11 13l9 -9"></path><path d="M15 4h5v5"></path>`,
        "user": `<path d="M8 7a4 4 0 1 0 8 0a4 4 0 0 0 -8 0"></path><path d="M6 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2"></path>`,
        "calendar": `<path d="M4 7a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v12a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2v-12z"></path><path d="M16 3v4"></path><path d="M8 3v4"></path><path d="M4 11h16"></path><path d="M11 15h1"></path><path d="M12 15v3"></path>`,
        "arrows-up-down": `<path d="M7 3l0 18"></path><path d="M10 6l-3 -3l-3 3"></path><path d="M20 18l-3 3l-3 -3"></path><path d="M17 21l0 -18"></path>`,
        "chevron-down": `<path d="M6 9l6 6l6 -6"></path>`
    };

    // –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä SVG –∏–∫–æ–Ω–æ–∫
    function getIcon(iconName, size = 16, stroke = 2, color = "currentColor") {
        return `<svg width="${size}" height="${size}" viewBox="0 0 24 24" fill="none" stroke="${color}" stroke-width="${stroke}" stroke-linecap="round" stroke-linejoin="round">${icons[iconName]}</svg>`;
    }

    // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è HTML –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
    function renderApp() {
        const currentPlatform = appData.platforms[appData.currentPlatform];
        const currentProvider = currentPlatform.providers[appData.currentProvider];
        
        document.getElementById('app').innerHTML = `
            <div class="header">
                <h1 class="title">–ü–æ–¥–ø–∏—Å–∫–∞</h1>
                <button class="btn btn-outline" id="get-link-btn">–ü–æ–ª—É—á–∏—Ç—å —Å—Å—ã–ª–∫—É</button>
            </div>

            <div class="card">
                <div class="accordion active" id="subscription-info">
                    <div class="accordion-header" onclick="toggleAccordion('subscription-info')">
                        <div class="accordion-title">
                            <div class="flex items-center">
                                <span>${appData.user.username}</span>
                                <span class="text-muted text-small mt-1">–ò—Å—Ç–µ–∫–∞–µ—Ç —á–µ—Ä–µ–∑ ${appData.user.daysLeft} –¥–Ω—è</span>
                            </div>
                        </div>
                        <div class="flex items-center">
                            <div class="stat-icon" style="color: var(--tg-green-color); margin-right: 12px;">
                                ${getIcon('check', 20)}
                            </div>
                            ${getIcon('chevron-down', 16)}
                        </div>
                    </div>
                    <div class="accordion-content" style="max-height: 500px;">
                        <div class="stats-grid">
                            <div class="stat-item">
                                <div class="stat-label">
                                    ${getIcon('user', 16)}
                                    –ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
                                </div>
                                <div class="stat-value">${appData.user.username}</div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-label">
                                    ${getIcon('check', 16)}
                                    –°—Ç–∞—Ç—É—Å
                                </div>
                                <div class="stat-value">${appData.user.status}</div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-label">
                                    ${getIcon('calendar', 16)}
                                    –ò—Å—Ç–µ–∫–∞–µ—Ç
                                </div>
                                <div class="stat-value">${appData.user.expiresAt}</div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-label">
                                    ${getIcon('arrows-up-down', 16)}
                                    –¢—Ä–∞—Ñ–∏–∫
                                </div>
                                <div class="stat-value">${appData.user.trafficUsed} / ${appData.user.trafficLimit}</div>
                                <div class="progress-container mt-1">
                                    <div class="progress-bar" style="width: ${appData.user.trafficPercent}%"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="card">
                <div class="flex items-center justify-between mb-2">
                    <h2 class="title">–£—Å—Ç–∞–Ω–æ–≤–∫–∞</h2>
                    <div class="select" id="device-select">
                        <div class="select-toggle" onclick="toggleSelect('device-select')">
                            <div class="flex items-center">
                                ${getIcon(currentPlatform.icon, 20, 2, "currentColor")}
                                <span>${currentPlatform.name}</span>
                            </div>
                            ${getIcon('chevron-down', 16)}
                        </div>
                        <div class="select-dropdown">
                            ${Object.values(appData.platforms).map(platform => `
                                <div class="select-option" onclick="selectOption('device-select', '${platform.id}', '${platform.name}')">
                                    <span>${platform.name}</span>
                                </div>
                            `).join('')}
                        </div>
                    </div>
                </div>

                <div class="btn-group">
                    ${Object.entries(currentPlatform.providers).map(([id, provider]) => `
                        <button class="btn ${appData.currentProvider === id ? 'btn-light' : 'btn-outline'}" 
                                onclick="changeProvider('${id}')"
                                style="flex: 1;">
                            ${provider.icon ? getIcon(provider.icon, 16, 2, appData.currentProvider === id ? "gold" : "currentColor") : ''}
                            ${provider.name}
                        </button>
                    `).join('')}
                </div>

                <div class="timeline">
                    ${currentProvider.instructions.map((step, index) => `
                        <div class="timeline-item" ${index === 0 ? 'data-active="true"' : ''}>
                            <div class="timeline-bullet">
                                ${getIcon(step.icon, 14, 2, "white")}
                            </div>
                            <div class="timeline-content">
                                <h3 class="timeline-title">${step.title}</h3>
                                <p class="timeline-description">
                                    ${step.description}
                                </p>
                                ${index === 0 ? `
                                    <div class="btn-group">
                                        ${currentProvider.sources.map((source) => `
                                            <a href="${source.url}" target="_blank" class="btn btn-light">
                                                ${getIcon('external-link', 14)}
                                                ${source.name}
                                            </a>
                                        `).join('')}
                                    </div>
                                ` : ''}
                                ${index === 2 ? `
                                    <button class="btn btn-primary mt-2" id="add-subscription-btn">
                                        –î–æ–±–∞–≤–∏—Ç—å –ø–æ–¥–ø–∏—Å–∫—É
                                    </button>
                                ` : ''}
                            </div>
                        </div>
                    `).join('')}
                </div>
            </div>

            <div style="text-align: center; margin-top: var(--tg-spacing);">
                <button class="btn btn-outline">
                    <div class="flex items-center">
                        <span>üá∑üá∫</span>
                        <span>–†—É—Å—Å–∫–∏–π</span>
                        ${getIcon('chevron-down', 16, 1.5)}
                    </div>
                </button>
            </div>
        `;

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ —Å–æ–±—ã—Ç–∏–π
        document.getElementById('get-link-btn').addEventListener('click', getLink);
        document.getElementById('add-subscription-btn')?.addEventListener('click', addSubscription);
    }

    // –§—É–Ω–∫—Ü–∏–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å UI
    function toggleAccordion(id) {
        const accordion = document.getElementById(id);
        const content = accordion.querySelector('.accordion-content');
        
        if (accordion.classList.contains('active')) {
            content.style.maxHeight = null;
            accordion.classList.remove('active');
        } else {
            content.style.maxHeight = content.scrollHeight + "px";
            accordion.classList.add('active');
        }
    }

    function toggleSelect(id) {
        document.getElementById(id).classList.toggle('active');
    }

    function selectOption(selectId, platformId, platformName) {
        appData.currentPlatform = platformId;
        // Reset provider to first available when platform changes
        const firstProvider = Object.keys(appData.platforms[platformId].providers)[0];
        appData.currentProvider = firstProvider;
        renderApp();
    }

    function changeProvider(providerId) {
        appData.currentProvider = providerId;
        renderApp();
    }

    // –§—É–Ω–∫—Ü–∏–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º
    function getLink() {
        alert('–°—Å—ã–ª–∫–∞ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∞ –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞');
        // –†–µ–∞–ª—å–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è: navigator.clipboard.writeText(subscriptionLink)
    }

    function addSubscription() {
        const configUrl = "https://vite.pythonanyehere.com/vpn-config";
        const deepLinks = {
            clash: `clash://install-config?url=${encodeURIComponent(configUrl)}`,
            happ: `happ://import?url=${encodeURIComponent(configUrl)}`,
            v2raytun: `v2raytun://install?url=${encodeURIComponent(configUrl)}`
        };
        const appLink = deepLinks[appData.currentProvider] || configUrl;
        window.open(appLink, '_blank'); 
    }

    // –ó–∞–∫—Ä—ã—Ç–∏–µ –≤—ã–ø–∞–¥–∞—é—â–∏—Ö —Å–ø–∏—Å–∫–æ–≤ –ø—Ä–∏ –∫–ª–∏–∫–µ –≤–Ω–µ –∏—Ö
    document.addEventListener('click', function(event) {
        if (!event.target.closest('.select')) {
            document.querySelectorAll('.select').forEach(select => {
                select.classList.remove('active');
            });
        }
    });

    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
    renderApp();
</script>
</html>